function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("segment/mappers",["dpz.template"],function(e){var b=e.contextFixed.market_assets_ctx;return{amountMapper:function(e){var t=0<arguments.length&&void 0!==e?e:jsDPZ.app.order.getOrder().data.Details.Amounts,a=t.FoodAndBeverage,r=t.DeliveryFee,o=t.Tax,n=t.Savings;return{value:a,revenue:t.Customer,shipping:r,tax:o,discount:n}},couponMapper:function(e){var t=jsDPZ.app.catalog.getCatalog().getCoupon(e);if(jsDPZ.util.empty(t))return{coupon_id:e};var a=t.data,r=a.Name,o=a.Price;return _objectSpread({coupon_id:e,coupon_name:r},o&&{discount:o})},productMapper:function(e){var t=jsDPZ.app.catalog.getCatalog().getProduct(e),a=site.catalogTools.getDefaultVariantCode(e),r=jsDPZ.app.catalog.getCatalog().getVariant(a),o=t.data,n=(o=void 0===o?{}:o).Code,i=o.Name,c=o.ProductType,u=t.imageSizes,p=(u=void 0===u?{}:u).LARGE,d=u.THUMBNAIL,g=r.data,s=(g=void 0===g?{}:g).Price,l=void 0===s?"":s,m=g.Code,v=void 0===m?"":m;return{category:c,image_url:t.getImageURL({size:killConfig.isMarketEnabled("useLegacyThumbnailProductImages")?d:p,baseURL:"".concat(b,"/images/img/products")}),name:i,price:l,product_id:n,sku:n,url:"#!/product/".concat(n,"/builder/"),variant:v}},variantMapper:function(e){var t=jsDPZ.app.catalog.getCatalog().getVariant(e).data,a=(t=void 0===t?{}:t).Price,r=void 0===a?"":a,o=t.ProductCode,n=void 0===o?"":o,i=jsDPZ.app.catalog.getCatalog().getProduct(n),c=i.data,u=(c=void 0===c?{}:c).Code,p=c.Name,d=c.ProductType,g=i.imageSizes,s=(g=void 0===g?{}:g).LARGE,l=g.THUMBNAIL;return{category:d,image_url:i.getImageURL({size:killConfig.isMarketEnabled("useLegacyThumbnailProductImages")?l:s,baseURL:"".concat(b,"/images/img/products")}),name:p,price:r,product_id:u,sku:u,url:"#!/product/".concat(u,"/builder/"),variant:e}}}});