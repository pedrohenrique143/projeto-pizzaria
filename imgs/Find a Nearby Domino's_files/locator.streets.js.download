define("marketjs/modules/locator.streets",["Fuse","simplr"],function(r,i){var a,s={},n="";return $.extend(s,{init:function(e){var t;n=null!==(t=e.savedValue)&&void 0!==t?t:"",(a=e.input).val(n),s.empty().off()},fetch:function(t){jsDPZ.ajax.globalStoreSearchTypeAheadStreets(t).then(function(e){return s.reset(jsDPZ.util.htmlUnEncode(e.Addresses),t.clearInput,t)})},set:function(e){return e?a.val(""):n&&a.val(n),s.autocompleteService(),s},fuseSearch:function(e,t){if(e){var n=new r(e,{shouldSort:!0,threshold:1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["Street"]});return $.when(n.search(t.street)).then(function(e){i.view.mRender({name:"fuse_predictions",data:{fieldSelector:a,results:e},selector:".js-predictionsContainer"})})}},empty:function(){return{},s},off:function(){return a.attr("disabled","disabled"),s},fill:function(e,t){return $.isArray(e)&&e.length&&(s.fuseSearch(e,t),a.removeAttr("disabled")),s},enable:function(){a.removeAttr("disabled")},reset:function(e,t,n){return s.empty().fill(e,n),s}}),s});