function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}define("dpz.goloDuc",["dpz.config"],function(e){function r(){return killConfig.isMarketEnabled("9ad5cf4d-c802-4fbf-909c-d7fba83bf401")}function t(e){var t=(0<arguments.length&&void 0!==e?e:{}).AllowDuc;return r()&&t}function d(i){var c=r();return new Promise(function(e,t){if(!c)return e(!1);function r(e){return(0<arguments.length&&void 0!==e?e:{}).AllowDuc}var n=site.func.isTrackerPage(),o=jsDPZ.app.store.getStore(),a=o.data.StoreID;n||a!==i?jsDPZ.ajax.storeProfile({StoreID:i}).then(r,function(){return e(!1)}):e(r(o.data))})}var l=e.getMarketProperty;return{getIsGoloDucOrderingEnabled:function(){return killConfig.isMarketEnabled("profileColumnCurbsideCarryoutCheckbox")||killConfig.isMarketEnabled("9ad5cf4d-c802-4fbf-909c-d7fba83bf401")},isGoloDucCapableSync:t,initialize:function(e){var t=e.validationRules,r=e.orderData,n=e.orderData.Details.StoreID,o=e.renderContainer,a=e.preselectGoloDuc;return function(e,t){return"Carryout"===e.Details.ServiceMethod?d(t):new Promise(function(e){return e(!1)})}(r,n).then(function(e){e&&(function(e){$.extend(!0,e,{YesDUC:{showOptional:!0},NoDUC:{showOptional:!0},Vehicle_Color:{required:!0},Vehicle_Make:{required:!0},Vehicle_Plate:{showOptional:!0},Pickup_Details:{required:!0},Order_Golo_Duc:{showOptional:!0}})}(t),function(i,c){require(["payment.components","marketconfig/dpz.lang.payment","marketconfig/dpz.lang.forms"],function(e,t,r){var n=e.GoloDucCard,o=e.TranslateContext,a=killConfig.isMarketEnabled("36999e17-35a4-4ef4-b911-d4d4917b79a0")&&l("generic").floatingLabelTextbox;preact.render(preact.h(o.Provider,{value:dpz.template.getTranslateContextValue(_objectSpread(_objectSpread({},t),r))},preact.h(n,{initialShowFormState:c,floatingLabelTextbox:a})),i)})}(o,a))})},renderIHaveArrivedSection:function(e){var t,r=e.orderData,b=e.orderStatus,n=r.Customer,o=(n=void 0===n?{}:n).FullPhone,a=n.Phone,i=n.PhonePrefix,c=n.Extension,m=n.FirstName,h=n.LastName,l=r.Details,u=(l=void 0===l?{}:l).ServiceMethod,D=l.StoreID,P=l.StoreOrderID,k=l.StorePlaceOrderTime,O=!m||!h,S=o||"".concat(i).concat(a).concat(c),v=JSON.parse(site.storage.load("golo_duc_vehicle_details")||"{}")[S],s=(site.isConfirmationPage&&!!v||!site.isConfirmationPage&&"Carry-Out"===u)&&d(D);null==s||null===(t=s.then)||void 0===t||t.call(s,function(e){if(e){var t=site.func.isTrackerPage();require(["dpz.template","".concat(t?"tracker":"confirmation",".components"),"marketconfig/dpz.lang.payment","marketconfig/dpz.lang.confirmation","marketconfig/dpz.lang.forms","marketconfig/dpz.lang.errorsValidator","marketconfig/dpz.lang.customer"],function(e,t,r,n,o,a,i){var c=t.DucCheckIn,l=t.TranslateContext,u=document.querySelector(".js-duckCheckInContainer"),s=v||{},d=s.color,f=s.make,p=s.plate,g=s.details;preact.render(preact.h(l.Provider,{value:e.getTranslateContextValue(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r),n),o),a),i))},preact.h(c,{defaultCheckedInState:!1,goloDucSubmitHandler:function(e){var t=v&&!O?{}:$(e.target).serialize().split("&").reduce(function(e,t){var r=t.split("=");return e[r[0]]=r[1],e},{}),r=O&&"".concat(t.First_Name," ").concat(t.Last_Name);return $.ajax({url:"".concat(urlConfig.alamar_api_ctx,"/dominos/stores/car-side-pickup"),contentType:"application/json; charset=utf-8",dataType:"json",type:"POST",data:JSON.stringify({OrderID:P,StoreID:D,BusinessDate:k,VehicleMake:t.Vehicle_Make||f,VehicleColor:t.Vehicle_Color||d,PlateNumber:t.Vehicle_Plate||p,PickupDetails:t.Pickup_Details||g,CustomerName:r||"".concat(m," ").concat(h),CustomerPhone:S})}).fail(function(){site.func.overlayToggle(!0,"codeOverlay",{},{code:"eGoloDucCheckinError"})})},isHandheld:site.func.isHandheld(),jsDpzTopic:jsDPZ.topic,nameMissing:O,orderStatus:b,requestVehicleInformation:!v||O})),u)})}})},showLocatorAndOrderSettingsIndicator:function(e){return t(e)&&l("order").showLocatorAndOrderSettingsIndicator}}});