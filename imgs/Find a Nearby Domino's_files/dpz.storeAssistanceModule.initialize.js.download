define("dpz.storeAssistanceModule.initialize",["dpz.goloDuc","dpz.storeAssistanceModule.props","dpz.storeAssistanceModule.state","dpz.storeAssistanceModule.methods","dpz.storeAssistanceModule.renderer"],function(e,s,t,r,i){function c(){o(),a().isHotSpot||(M(),jsDPZ.topic("storeAssistanceModule.updated").publish())}var d=e.getIsGoloDucOrderingEnabled,u=s.getServiceMethodFromOrder,n=s.setIsAutoSet,a=t.getState,p=t.setState,o=r.getCurrentOrderInfo,l=r.setServiceMethodFromProfileData,D=i.renderSam,M=function(){jsDPZ.topic("order.service.method.changed").subscribe(function(){var e=jsDPZ.app.order.getOrder().data,s=e.Details.ServiceMethod,t=e.isDucOrder,r=e.isPickupOrder,i=d(),o=u({isDucOrder:i?jsDPZ.app.customer.getCustomer().getSessionData().CurbsidePickup:t,isPickupOrder:r,serviceMethodDetail:s});o!==a().serviceMethod&&(n(!1),p({serviceMethodFromOrder:o}),c())}),jsDPZ.topic("login.success").subscribe(function(e){var s=e.Email;l(s)}),jsDPZ.topic("customerLogin.success").subscribe(function(e){var s=e.Email;l(s)}),jsDPZ.topic("storeAssistanceModule.updated").subscribe(function(){D()})};return{initSamNav:c}});