define(function(){var n,i={},o="",r=[],a="";return $.extend(i,{init:function(e){var t=0<arguments.length&&void 0!==e?e:{};o=t.savedValue,n=t.dropdown},fetch:function(e){jsDPZ.ajax.globalStoreSearchTypeAhead(e).then(function(e){return i.reset(e)})},set:function(e){var t=0<arguments.length&&void 0!==e?e:o;return t&&n.children().is('[value="'+t+'"]')&&n.val(t),n.change(),i},empty:function(){return $("option",n).not(":first").remove(),r=[],a="",i},fill:function(e){if($.isPlainObject(e)&&$.isArray(e.States)&&e.States.length){var t=e.States.filter(Boolean).map(function(e){return{code:e}});r=site.locationTools.getListData(t,"code","code"),a=site.func.buildOptionList({listValues:r}),n&&(n.append(a),$(".js-region").prop("disabled",!1))}return i},reset:function(e){return i.empty().fill(e).set(""),i}}),i});