function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(r,t):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}define("pizzabuildermodules/dpz.pizzaBuilderToppingsSort",["dpz.config"],function(r){function i(r){return(0<arguments.length&&void 0!==r?r:[]).reduce(function(r,t){return[].concat(_toConsumableArray(r),_toConsumableArray(t))},[])}function u(o){return function(r,t){var n=o.includes(r.Code),e=o.includes(t.Code);return n&&e?o.indexOf(r.Code)-o.indexOf(t.Code):n?-1:e?1:0}}function o(r){var t=r.sort,n=r.toppings;return function(r,t){return t.sort(u(r)).reduce(function(r,t){var n=t.Code,e=$(".js-topping--".concat(n)).find("option:selected").val(),o=$(".js-topping--".concat(n)).clone(!0);return $(o).find("select").val(e),o?[].concat(_toConsumableArray(r),[o]):r},[])}(l["".concat(t,"Sort")],n)}var l=(0,r.getMarketProperty)("pizzaBuilder").toppingsSorting,a=l.sort_analytics;return{getUnifiedToppingSorts:function(){for(var r=l.defaultSort,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var o=i(n),a=l["".concat(r,"Sort")];return o.sort(u(a))},handleSort:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var e=i(t);return function(){var r=$(".toppings-list__elements"),t=$(this).val();!function(r){dpz.utag.fire.link(null,{event_name:a[r]})}(t);var n=o({sort:t,toppings:e});$(r).empty().append(n)}}}});