define("dpz.utag.orderEvents",["dpz.utag.constants"],function(e){function m(e){var n,t=0<arguments.length&&void 0!==e?e:"";return(null===(n=jsDPZ.app.catalog.getCatalog().getVariant(t).data)||void 0===n?void 0:n.ProductCode)||""}var n=e.UTAG_EVENTS,t=n.COUPON_ADDED,o=n.COUPON_REMOVED,a=n.PAYMENT_TYPE_CHANGED,f=n.PRODUCT_ADDED,C=n.PRODUCT_REMOVED,D=n.PRODUCT_UPDATED,r=n.SERVICE_METHOD_CHANGED;return{createOnCouponAdded:function(n){return function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).couponCode;n(null,{event_name:t,event_label:void 0===e?"":e})}},createOnCouponRemoved:function(n){return function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).couponCode;n(null,{event_name:o,event_label:void 0===e?"":e})}},createOnProductAdded:function(v){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.variantCode,o=void 0===t?"":t,a=n.quantity,r=n.name,i=n.category,u=n.toppings,c=n.couponCode,d=n.price,l=m(o);v(null,{event_name:f,event_label:l,productDetails:{id:l,price:d,code:o,quantity:a,name:r,category:i,toppings:u},couponCode:c})}},createOnProductRemoved:function(v){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.variantCode,o=void 0===t?"":t,a=n.quantity,r=n.name,i=n.category,u=n.toppings,c=n.couponCode,d=n.price,l=m(o);v(null,{event_name:C,event_label:l,productDetails:{id:l,price:d,code:o,quantity:a,name:r,category:i,toppings:u},couponCode:c})}},createOnProductUpdated:function(g){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.id,o=void 0===t?"":t,a=n.newVariantCode,r=void 0===a?"":a,i=n.quantity,u=n.oldQuantity,c=n.price,d=n.name,l=n.category,v=n.toppings,p=(jsDPZ.app.order.getOrder().data.Details.Variants.find(function(e){return e.ID===o})||{}).Code,_=m(void 0===p?"":p);g(null,{event_name:D,event_label:_}),u<i?g(null,{event_name:f,event_label:_,productDetails:{id:_,price:c,code:r,quantity:i-u,name:d,category:l,toppings:v}}):i<u&&g(null,{event_name:C,event_label:_,productDetails:{id:_,price:c,code:r,quantity:u-i,name:d,category:l,toppings:v}})}},createOnOrderPlaced:function(o){return function(e,n){var t=n.event_name;o(null,{event_name:t})}},createOnServiceMethodChange:function(n){return function(e){n(null,{event_name:r,event_label:e})}},createOnOrderCheckout:function(o){return function(e,n){var t=n.event_name;o(null,{event_name:t})}},createOnPaymentTypeChange:function(o){return function(e,n){var t=n.payment_type;o(null,{event_name:a,order_payment_type:[t]})}},createOnOrderReview:function(o){return function(e,n){var t=n.event_name;o(null,{event_name:t})}}}});